<mvc:View
	controllerName="paymentprototype.controller.payment_prototype"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	displayBlock="true">
	<Page id="paymentPrototypePage" title="Hostel Payment System" class="modernPaymentPage" showHeader="false">
		<customHeader>
			<Bar id="customHeaderBar" class="customHeaderBar">
				<contentLeft>
					<Title id="headerTitle" text="Hostel Payment" class="headerTitle"/>
				</contentLeft>
				<contentRight>
					<HBox id="userProfileBox" alignItems="Center">
						<Text id="welcomeText" text="Welcome, Student" class="welcomeText"/>
						<Avatar id="userAvatar" src="sap-icon://employee" class="userAvatar" displaySize="S" backgroundColor="Accent6"/>
					</HBox>
				</contentRight>
			</Bar>
		</customHeader>
		<content>
			<!-- Outstanding Balance Card -->
			<VBox id="outstandingCardVBox" class="outstandingCard">
				<VBox id="outstandingContent" class="outstandingContent">
					<Text id="outstandingLabel" text="Total Outstanding" class="outstandingLabel"/>
					<Text id="outstandingAmount" text="RM 3,500.00" class="outstandingAmount"/>
					<HBox id="statsHBox" class="statsHBox" justifyContent="SpaceBetween">
						<VBox id="paidStatVBox" class="statItem">
							<Text id="paidStatValue" text="4" class="statValue"/>
							<Text id="paidStatLabel" text="Paid" class="statLabel"/>
						</VBox>
						<VBox id="pendingStatVBox" class="statItem">
							<Text id="pendingStatValue" text="2" class="statValue"/>
							<Text id="pendingStatLabel" text="Pending" class="statLabel"/>
						</VBox>
						<VBox id="overdueStatVBox" class="statItem">
							<Text id="overdueStatValue" text="1" class="statValue"/>
							<Text id="overdueStatLabel" text="Overdue" class="statLabel"/>
						</VBox>
					</HBox>
				</VBox>
			</VBox>

			<!-- Divider -->
			<VBox id="dividerVBox1" class="sapUiMediumMargin">
				<core:HTML id="dividerHtml1" content="&lt;hr style='margin: 20px 0;'/&gt;"/>
			</VBox>

			<!-- Quick Alerts -->
			<VBox id="alertsVBox" class="alertsSection">
				<Title id="alertsTitle" text="Payment Alerts" level="H4" class="sectionTitle"/>
				<VBox id="alertsList" class="alertsList">
					<MessageStrip id="overdueAlert" text="1 payment is overdue. Please settle immediately to avoid penalties." type="Error" showIcon="true" class="alertItem"/>
					<MessageStrip id="upcomingAlert" text="2 payments due soon. Click below to view details." type="Warning" showIcon="true" class="alertItem"/>
				</VBox>
			</VBox>

			<!-- Divider -->
			<VBox id="dividerVBox2" class="sapUiMediumMargin">
				<core:HTML id="dividerHtml2" content="&lt;hr style='margin: 20px 0;'/&gt;"/>
			</VBox>

			<!-- Bill List -->
			<VBox id="billListVBox" class="billListSection">
				<HBox id="billHeaderHBox" justifyContent="SpaceBetween" alignItems="Center" class="billHeader">
					<Title id="billListTitle" text="Your Bills" level="H4" class="sectionTitle"/>
					<Select id="filterSelect" selectedKey="all" width="150px" class="filterSelect">
						<core:Item id="filterAll" key="all" text="All Bills"/>
						<core:Item id="filterPending" key="pending" text="Pending"/>
						<core:Item id="filterPaid" key="paid" text="Paid"/>
					</Select>
				</HBox>
				
				<!-- Bill Cards -->
				<VBox id="billCardsContainer" items="{paymentModel>/feeRecords}">
					<VBox class="billCard">
						<HBox justifyContent="SpaceBetween" alignItems="Center">
							<VBox width="60%">
								<Text text="{paymentModel>feeType}" class="billTitle"/>
								<Text text="Due: {paymentModel>dueDate}" class="billDueDate"/>
							</VBox>
							<VBox alignItems="End">
								<Text text="{paymentModel>amount}" class="billAmount"/>
								<ObjectStatus text="{paymentModel>status}" state="{paymentModel>statusState}" class="billStatus"/>
							</VBox>
						</HBox>
						<HBox justifyContent="End" class="billActions">
							<Button 
								text="Pay via FPX" 
								type="Ghost"
								icon="sap-icon://payment-approval"
								press=".onPayFee"
								enabled="{paymentModel>enablePay}"
								class="payButton"/>
							<Button 
								icon="sap-icon://download" 
								type="Transparent"
								press=".onGenerateReceipt"
								enabled="{paymentModel>enableReceipt}"
								tooltip="Download Receipt"
								class="sapUiTinyMarginStart"/>
						</HBox>
					</VBox>
				</VBox>
			</VBox>

			<!-- Divider -->
			<VBox id="dividerVBox3" class="sapUiMediumMargin">
				<core:HTML id="dividerHtml3" content="&lt;hr style='margin: 20px 0;'/&gt;"/>
			</VBox>

			<!-- Payment Methods -->
			<VBox id="paymentMethodsVBox" class="paymentMethodsSection">
				<VBox class="secureIndicator">
					<HBox alignItems="Center" class="sapUiTinyMarginBottom">
						<core:Icon src="sap-icon://locked" color="#2ecc71" class="sapUiTinyMarginEnd"/>
						<Text text="Secure Payment Gateway" class="secureText"/>
					</HBox>
				</VBox>
				
				<Title id="paymentMethodTitle" text="Select Payment Method" level="H4" class="sectionTitle"/>
				
				<VBox id="paymentOptionsVBox" class="paymentOptions">
					<HBox class="paymentMethodCard" press=".onBankTransfer">
						<core:Icon src="sap-icon://money-bills" size="2rem" class="paymentIcon"/>
						<VBox class="sapUiSmallMarginStart">
							<Text text="Online Banking (FPX)" class="paymentMethodName"/>
							<Text text="Instant transfer from your bank" class="paymentMethodDesc"/>
						</VBox>
						<core:Icon src="sap-icon://navigation-right-arrow" class="navArrow"/>
					</HBox>
					
					<HBox class="paymentMethodCard" press=".onEWallet">
						<core:Icon src="sap-icon://wallet" size="2rem" class="paymentIcon"/>
						<VBox class="sapUiSmallMarginStart">
							<Text text="E-Wallet" class="paymentMethodName"/>
							<Text text="Touch 'n Go, GrabPay, Boost" class="paymentMethodDesc"/>
						</VBox>
						<core:Icon src="sap-icon://navigation-right-arrow" class="navArrow"/>
					</HBox>
					
					<HBox class="paymentMethodCard" press=".onCreditCard">
						<core:Icon src="sap-icon://card" size="2rem" class="paymentIcon"/>
						<VBox class="sapUiSmallMarginStart">
							<Text text="Credit/Debit Card" class="paymentMethodName"/>
							<Text text="Visa, Mastercard, American Express" class="paymentMethodDesc"/>
						</VBox>
						<core:Icon src="sap-icon://navigation-right-arrow" class="navArrow"/>
					</HBox>
				</VBox>
			</VBox>
		</content>
	</Page>
</mvc:View>