<mvc:View
	controllerName="paymentprototype.controller.payment_prototype"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:f="sap.ui.layout.form"
	xmlns:core="sap.ui.core"
	xmlns="sap.m"
	displayBlock="true">
	<Page id="paymentPrototypePage" title="Payment & Billing">
		<content>
			<!-- Payment Form Section -->
		<VBox id="paymentFormVBox" class="sapUiMediumMargin">
			<Title id="paymentFormTitle" text="Payment Details" level="H2"/>
				<f:SimpleForm editable="true" layout="ResponsiveGridLayout">
					<f:content>
						<!-- Customer Name -->
						<Label id="customerNameLabel" text="Customer Name"/>
						<Input 
							id="paymentFormCustomerName"
							placeholder="Enter customer name"
							value="{paymentModel>/customerName}"/>

						<!-- Invoice Amount -->
						<Label id="invoiceAmountLabel" text="Invoice Amount"/>
						<Input 
							id="paymentFormAmount"
							placeholder="Enter amount"
							value="{paymentModel>/amount}"
							type="Number"/>

						<!-- Invoice Number -->
						<Label id="invoiceNumberLabel" text="Invoice Number"/>
						<Input 
							id="paymentFormInvoiceNumber"
							placeholder="Enter invoice number"
							value="{paymentModel>/invoiceNumber}"/>

						<!-- Payment Method -->
						<Label id="paymentMethodLabel" text="Payment Method"/>
						<Select 
							id="paymentFormPaymentMethod"
							items="{paymentModel>/paymentMethods}"
							selectedKey="{paymentModel>/selectedMethod}">
							<core:Item id="selectItem" key="{paymentModel>key}" text="{paymentModel>text}"/>
						</Select>

						<!-- Due Date -->
						<Label id="dueDateLabel" text="Due Date"/>
						<DatePicker 
							id="paymentFormDueDate"
							value="{paymentModel>/dueDate}"
							displayFormat="yyyy-MM-dd"/>
					</f:content>
				</f:SimpleForm>

				<!-- Action Buttons -->
				<HBox id="buttonHBox" class="sapUiSmallMarginTop" justifyContent="Center">
					<Button 
						id="paymentFormSubmitBtn"
						text="Submit Payment" 
						type="Emphasized"
						press=".onSubmitPayment"/>
					<Button 
						id="paymentFormResetBtn"
						text="Clear" 
						press=".onReset"/>
				</HBox>
			</VBox>

			<!-- Divider -->
			<VBox id="dividerVBox" class="sapUiMediumMargin">
				<core:HTML id="dividerHtml" content="&lt;hr style='margin: 20px 0;'/&gt;"/>
			</VBox>

			<!-- Billing History Section -->
			<VBox id="billingHistoryVBox" class="sapUiMediumMargin">
				<Title id="billingHistoryTitle" text="Recent Payments" level="H2"/>
				<Table 
					id="paymentBillingTable"
					items="{paymentModel>/billingHistory}"
					mode="SingleSelectMaster">
					<columns>
						<Column id="invoiceCol">
							<Text id="invoiceColText" text="Invoice #"/>
						</Column>
						<Column id="customerCol">
							<Text id="customerColText" text="Customer"/>
						</Column>
						<Column id="amountCol">
							<Text id="amountColText" text="Amount"/>
						</Column>
						<Column id="methodCol">
							<Text id="methodColText" text="Payment Method"/>
						</Column>
						<Column id="dateCol">
							<Text id="dateColText" text="Date"/>
						</Column>
						<Column id="statusCol">
							<Text id="statusColText" text="Status"/>
						</Column>
					</columns>
					<items>
						<ColumnListItem id="billingListItem">
							<cells>
								<Text id="billingInvoiceText" text="{paymentModel>invoiceNumber}"/>
								<Text id="billingCustomerText" text="{paymentModel>customerName}"/>
								<Text id="billingAmountText" text="{paymentModel>amount}"/>
								<Text id="billingMethodText" text="{paymentModel>method}"/>
								<Text id="billingDateText" text="{paymentModel>date}"/>
								<ObjectStatus 								id="billingStatusObject"									text="{paymentModel>status}"
									state="{paymentModel>statusState}"/>
							</cells>
						</ColumnListItem>
					</items>
				</Table>
			</VBox>
		</content>
	</Page>
</mvc:View>